{
    "alarms": [
      {
        "alarm_name": "${project_name}-backend-high-cpu",
        "alarm_description": "Alert when backend EC2 instances CPU utilization exceeds 70% for 2 consecutive periods",
        "metric_name": "CPUUtilization",
        "namespace": "AWS/EC2",
        "statistic": "Average",
        "period": 300,
        "evaluation_periods": 2,
        "threshold": 70,
        "comparison_operator": "GreaterThanThreshold",
        "treat_missing_data": "breaching",
        "dimensions": {
          "AutoScalingGroupName": "terraform-20260126193814214500000007"
        },
        "alarm_actions": ["${sns_topic_arn}"],
        "ok_actions": ["${sns_topic_arn}"]
      },
      {
        "alarm_name": "${project_name}-backend-critical-cpu",
        "alarm_description": "Critical alert when backend EC2 instances CPU utilization exceeds 90%",
        "metric_name": "CPUUtilization",
        "namespace": "AWS/EC2",
        "statistic": "Average",
        "period": 60,
        "evaluation_periods": 1,
        "threshold": 90,
        "comparison_operator": "GreaterThanThreshold",
        "treat_missing_data": "breaching",
        "dimensions": {
          "AutoScalingGroupName": "terraform-20260126193814214500000007"
        },
        "alarm_actions": ["${sns_topic_arn}"],
        "ok_actions": ["${sns_topic_arn}"]
      },
      {
        "alarm_name": "${project_name}-alb-unhealthy-targets",
        "alarm_description": "Alert when one or more backend targets become unhealthy",
        "metric_name": "UnHealthyHostCount",
        "namespace": "AWS/ApplicationELB",
        "statistic": "Maximum",
        "period": 60,
        "evaluation_periods": 1,
        "threshold": 0,
        "comparison_operator": "GreaterThanThreshold",
        "treat_missing_data": "notBreaching",
        "dimensions": {
          "LoadBalancer": "${alb_arn_suffix}",
          "TargetGroup": "${target_group_arn_suffix}"
        },
        "alarm_actions": ["${sns_topic_arn}"],
        "ok_actions": ["${sns_topic_arn}"]
      },
      {
        "alarm_name": "${project_name}-alb-high-response-time",
        "alarm_description": "Alert when ALB target response time exceeds 2 seconds",
        "metric_name": "TargetResponseTime",
        "namespace": "AWS/ApplicationELB",
        "statistic": "Average",
        "period": 300,
        "evaluation_periods": 2,
        "threshold": 2.0,
        "comparison_operator": "GreaterThanThreshold",
        "treat_missing_data": "notBreaching",
        "dimensions": {
          "LoadBalancer": "${alb_arn_suffix}",
          "TargetGroup": "${target_group_arn_suffix}"
        },
        "alarm_actions": ["${sns_topic_arn}"],
        "ok_actions": ["${sns_topic_arn}"]
      },
      {
        "alarm_name": "${project_name}-alb-high-5xx-errors",
        "alarm_description": "Alert when ALB 5xx error rate exceeds 5%",
        "metric_name": "HTTPCode_Target_5XX_Count",
        "namespace": "AWS/ApplicationELB",
        "statistic": "Sum",
        "period": 300,
        "evaluation_periods": 2,
        "threshold": 10,
        "comparison_operator": "GreaterThanThreshold",
        "treat_missing_data": "notBreaching",
        "dimensions": {
          "LoadBalancer": "${alb_arn_suffix}"
        },
        "alarm_actions": ["${sns_topic_arn}"],
        "ok_actions": ["${sns_topic_arn}"]
      },
      {
        "alarm_name": "${project_name}-alb-high-4xx-errors",
        "alarm_description": "Alert when ALB 4xx error rate is unusually high (more than 50 errors in 5 minutes)",
        "metric_name": "HTTPCode_Target_4XX_Count",
        "namespace": "AWS/ApplicationELB",
        "statistic": "Sum",
        "period": 300,
        "evaluation_periods": 1,
        "threshold": 50,
        "comparison_operator": "GreaterThanThreshold",
        "treat_missing_data": "notBreaching",
        "dimensions": {
          "LoadBalancer": "${alb_arn_suffix}"
        },
        "alarm_actions": ["${sns_topic_arn}"],
        "ok_actions": ["${sns_topic_arn}"]
      },
      {
        "alarm_name": "${project_name}-asg-instance-termination",
        "alarm_description": "Alert when ASG instances are being terminated unexpectedly",
        "metric_name": "GroupTerminatingInstances",
        "namespace": "AWS/AutoScaling",
        "statistic": "Sum",
        "period": 300,
        "evaluation_periods": 1,
        "threshold": 0,
        "comparison_operator": "GreaterThanThreshold",
        "treat_missing_data": "notBreaching",
        "dimensions": {
          "AutoScalingGroupName": "terraform-20260126193814214500000007"
        },
        "alarm_actions": ["${sns_topic_arn}"],
        "ok_actions": ["${sns_topic_arn}"]
      },
      {
        "alarm_name": "${project_name}-cloudfront-high-5xx-errors",
        "alarm_description": "Alert when CloudFront 5xx error rate exceeds 1%",
        "metric_name": "5xxErrorRate",
        "namespace": "AWS/CloudFront",
        "statistic": "Average",
        "period": 300,
        "evaluation_periods": 2,
        "threshold": 1.0,
        "comparison_operator": "GreaterThanThreshold",
        "treat_missing_data": "notBreaching",
        "dimensions": {
          "DistributionId": "${cloudfront_distribution_id}",
          "Region": "Global"
        },
        "alarm_actions": ["${sns_topic_arn}"],
        "ok_actions": ["${sns_topic_arn}"]
      },
      {
        "alarm_name": "${project_name}-cloudfront-low-cache-hit-rate",
        "alarm_description": "Alert when CloudFront cache hit rate drops below 80%",
        "metric_name": "CacheHitRate",
        "namespace": "AWS/CloudFront",
        "statistic": "Average",
        "period": 300,
        "evaluation_periods": 3,
        "threshold": 80.0,
        "comparison_operator": "LessThanThreshold",
        "treat_missing_data": "notBreaching",
        "dimensions": {
          "DistributionId": "${cloudfront_distribution_id}",
          "Region": "Global"
        },
        "alarm_actions": ["${sns_topic_arn}"],
        "ok_actions": ["${sns_topic_arn}"]
      }
    ]
  }